(this["webpackJsonptleads-client"]=this["webpackJsonptleads-client"]||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(31),c=n.n(r),s=(n(115),n(116),n(21)),i=n.n(s),l=n(29),o=n(13),d=n(55),u=n(56),j=n(70),x=n.n(j),b=n(71),f=n.n(b),p="https://9969-94-19-75-204.ngrok.io/",O=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getAll",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,x.a.get(p+f.a.join("api","leads","?query=".concat(t)));case 3:return n=e.sent,a=n.data,e.abrupt("return",a._embedded);case 8:return e.next=10,x.a.get(p+f.a.join("api","leads"));case 10:return r=e.sent,c=r.data,e.abrupt("return",c._embedded);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),h=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),d=Object(o.a)(s,2),u=d[0],j=d[1],x=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[x,r,u]},m=n(193),g=n(192),v=n(191),_=n(72),y=n(184),w=n(185),k=n(182),S=n(186),L=n(187),C=n(188),H=n(189),I=n(190),T=n(177),z=n(178),N=n(97),A=n.n(N),E=n(73),R=n.n(E),W=n(95),D=n.n(W),F=n(2),B=function(e){var t=e.value;return Object(F.jsx)(k.a,{onClick:function(){window.open("mailto:".concat(t.values[0].value))},children:Object(F.jsx)(D.a,{color:"secondary"})})},J=n(96),M=n.n(J),U=function(e){var t=e.value;return Object(F.jsx)(k.a,{onClick:function(){window.open("tel:".concat(t.values[0].value))},children:Object(F.jsx)(M.a,{color:"secondary"})})};var q=function(e){var t,n=e.row,r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],l=new Date(1e3*n.created_at),d=l.getDate()+"."+(l.getMonth()+1)+"."+l.getFullYear(),u=n._embedded.tags.length>0,j=null===n||void 0===n||null===(t=n._embedded)||void 0===t?void 0:t.contArr;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(w.a,Object(_.a)(Object(_.a)({},e),{},{children:[Object(F.jsx)(y.a,{children:Object(F.jsx)(k.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!s)},children:s?Object(F.jsx)(T.a,{}):Object(F.jsx)(z.a,{})})}),Object(F.jsxs)(y.a,{component:"th",scope:"row",sx:{flex:"1 1 40%",display:"flex",alignItems:"center"},children:[n.name,u&&n._embedded.tags.map((function(e){return Object(F.jsx)("div",{className:R.a.Tag,children:e.name},e.id)}))]}),Object(F.jsx)(y.a,{align:"right",sx:{flex:"1 1 20%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:Object(F.jsx)("div",{className:R.a.Status,style:{backgroundColor:"".concat(n.status.color)},children:n.status.name})}),Object(F.jsxs)(y.a,{align:"right",sx:{flex:"1 1 20%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(F.jsx)(k.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!s)},children:Object(F.jsx)(A.a,{color:"secondary"})}),n.resUser.name]}),Object(F.jsx)(y.a,{align:"right",sx:{flex:"1 1 10%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:d}),Object(F.jsx)(y.a,{align:"right",sx:{flex:"1 1 10%",display:"flex",alignItems:"center"},children:n.price+" \u20bd"})]})),Object(F.jsx)(w.a,{children:Object(F.jsx)(y.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(F.jsx)(S.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(F.jsxs)(L.a,{sx:{margin:1},children:[Object(F.jsx)(C.a,{variant:"h6",gutterBottom:!0,component:"div",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(F.jsx)(H.a,{size:"small","aria-label":"purchases",children:Object(F.jsx)(I.a,{children:Object(F.jsx)(w.a,{children:j&&j.map((function(e){return Object(F.jsxs)(w.a,{children:[Object(F.jsx)(y.a,{children:e.name},e.id),e.custom_fields_values&&e.custom_fields_values.map((function(e){return function(e){switch(e.field_code){case"PHONE":return Object(F.jsxs)(y.a,{children:[Object(F.jsx)(U,{value:e})," "]},e.field_id);case"EMAIL":return Object(F.jsx)(y.a,{children:Object(F.jsx)(B,{value:e})},e.field_id);default:return}}(e)}))]})}))})})})]})})})})]})},K=function(){return Object(F.jsxs)(w.a,{sx:{display:"flex",width:"100%",background:"#f0f0f5"},children:[[{number:4,text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",padding:"80px"},{number:2,text:"\u0421\u0442\u0430\u0442\u0443\u0441"},{number:2,text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439"},{number:1,text:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}].map((function(e,t){return Object(F.jsx)(y.a,{sx:{flex:e.number,display:"flex",alignItems:"center",fontWeight:"bold",paddingLeft:e.padding},children:e.text},t)})),Object(F.jsx)(y.a,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"flex-end",fontWeight:"bold"},children:"\u0411\u044e\u0434\u0436\u0435\u0442"})]})},P=n(98),Y=n.n(P),G=n(77),Q=n.n(G),V=n(181),X=n(99),Z=n.n(X),$=function(e){var t=e.setLeads,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1],d=h(Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll(c);case 2:n=e.sent,console.log(n),t(n.leads.reverse());case 5:case"end":return e.stop()}}),e)})))),u=Object(o.a)(d,3),j=u[0],x=u[1];u[2];return Object(F.jsxs)("div",{className:Q.a.Header,children:[Object(F.jsx)("h2",{style:{marginLeft:"15px"},children:"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"}),Object(F.jsxs)("div",{className:Q.a.Search,children:[x?Object(F.jsx)(v.a,{style:{marginRight:"5px"},color:"secondary",size:20}):Object(F.jsx)(Z.a,{onClick:function(){j()},color:"secondary",size:"medium",style:{marginRight:"5px",cursor:"pointer"}}),Object(F.jsx)(V.a,{id:"input-with-sx",label:"\u041f\u043e\u0438\u0441\u043a",size:"small",variant:"outlined",color:"secondary",value:c,onChange:function(e){return s(e.target.value)}})]})]})},ee=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=h(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:t=e.sent,console.log(t),r(t.leads.reverse());case 5:case"end":return e.stop()}}),e)})))),s=Object(o.a)(c,3),d=s[0],u=s[1],j=s[2];return Object(a.useEffect)((function(){d()}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)($,{setLeads:r}),Object(F.jsxs)(m.a,{sx:{border:1,borderRadius:"0px 0 6px 6px",display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"15px",minWidth:"800px"},component:g.a,children:[Object(F.jsx)(K,{}),j&&Object(F.jsx)("h1",{children:j}),u?Object(F.jsx)("div",{className:Y.a.Loader,children:Object(F.jsx)(v.a,{color:"secondary"})}):n.map((function(e,t){return Object(F.jsx)(q,{sx:{display:"flex",width:"100%"},row:e},t)}))]})]})};var te=function(){return Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(ee,{})})};c.a.render(Object(F.jsx)(te,{}),document.getElementById("root"))},73:function(e,t,n){e.exports={Status:"LeadRow_Status__MLTFx",Tag:"LeadRow_Tag__OwkiJ"}},77:function(e,t,n){e.exports={Header:"Header_Header__1U6T4",Search:"Header_Search__Wz2cH"}},98:function(e,t,n){e.exports={Loader:"LeadTable_Loader__2taKg",Header:"LeadTable_Header__3DUxb",Status:"LeadTable_Status__1kfWa"}}},[[141,1,2]]]);
//# sourceMappingURL=main.bf69fa10.chunk.js.map